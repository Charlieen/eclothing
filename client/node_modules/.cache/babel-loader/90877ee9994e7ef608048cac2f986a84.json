{"ast":null,"code":"import { ShopActionsDIC } from './shop.types';\nimport SHOP_DATA from '../../data/shop.data';\nconst initialShop = {\n  shopItems: SHOP_DATA,\n  routeName: '',\n  quickView: false,\n  cartItems: [],\n  cCurrentItem: null,\n  cItemsCount: 0,\n  cTotalPrice: 0\n};\n\nconst _updateShopItems = (shopItems, action) => {\n  const categroy = shopItems.find(item => item.routeName === action.payload.routeName);\n  const items = categroy.items.map(item => {\n    if (item.id === action.payload.id) {\n      return { ...item,\n        count: 1,\n        inCart: true\n      };\n    } else {\n      return { ...item\n      };\n    }\n  });\n  return { ...categroy,\n    items: items\n  };\n};\n\nconst shopReducer = (state = initialShop, action) => {\n  switch (action.type) {\n    case ShopActionsDIC.INT_SHOP_ITEMS:\n      return state;\n\n    case ShopActionsDIC.GET_QUICK_VIEW:\n      return { ...state,\n        quickView: true\n      };\n\n    case ShopActionsDIC.ADD_ITEM_TO_CART:\n      return { ...state,\n        shopItems: state.shopItems.map(categroy => {\n          if (categroy.routeName === action.payload.routeName) {\n            return _updateShopItems(state.shopItems, action);\n          } else return categroy;\n        }),\n        cartItems: [...state.cartItems, { ...action.payload,\n          count: 1,\n          inCart: true\n        }],\n        cItemsCount: state.cItemsCount + 1,\n        cTotalPrice: state.cTotalPrice + action.payload.price\n      };\n\n    case ShopActionsDIC.GET_ALL_ITEMS:\n      return state;\n\n    default:\n      return state;\n  }\n};\n\nexport default shopReducer;","map":{"version":3,"sources":["/Users/dzgygmdhx/work/react-course/ecloth/src/redux/shop/shop.reducer.js"],"names":["ShopActionsDIC","SHOP_DATA","initialShop","shopItems","routeName","quickView","cartItems","cCurrentItem","cItemsCount","cTotalPrice","_updateShopItems","action","categroy","find","item","payload","items","map","id","count","inCart","shopReducer","state","type","INT_SHOP_ITEMS","GET_QUICK_VIEW","ADD_ITEM_TO_CART","price","GET_ALL_ITEMS"],"mappings":"AAAA,SAASA,cAAT,QAA+B,cAA/B;AACA,OAAOC,SAAP,MAAuB,sBAAvB;AAEA,MAAMC,WAAW,GAAE;AACfC,EAAAA,SAAS,EAACF,SADK;AAEfG,EAAAA,SAAS,EAAC,EAFK;AAGfC,EAAAA,SAAS,EAAC,KAHK;AAIfC,EAAAA,SAAS,EAAC,EAJK;AAKfC,EAAAA,YAAY,EAAC,IALE;AAMfC,EAAAA,WAAW,EAAC,CANG;AAOfC,EAAAA,WAAW,EAAC;AAPG,CAAnB;;AASA,MAAMC,gBAAgB,GAAG,CAACP,SAAD,EAAWQ,MAAX,KAAoB;AAE1C,QAAMC,QAAQ,GAAGT,SAAS,CAACU,IAAV,CAAeC,IAAI,IAAIA,IAAI,CAACV,SAAL,KAAmBO,MAAM,CAACI,OAAP,CAAeX,SAAzD,CAAjB;AACA,QAAMY,KAAK,GAAGJ,QAAQ,CAACI,KAAT,CAAeC,GAAf,CAAmBH,IAAI,IAAG;AACnC,QAAGA,IAAI,CAACI,EAAL,KAAYP,MAAM,CAACI,OAAP,CAAeG,EAA9B,EAAiC;AAC7B,aAAO,EACH,GAAGJ,IADA;AAEHK,QAAAA,KAAK,EAAC,CAFH;AAGHC,QAAAA,MAAM,EAAC;AAHJ,OAAP;AAKH,KAND,MAMM;AACF,aAAO,EACH,GAAGN;AADA,OAAP;AAGH;AACJ,GAZY,CAAd;AAaA,SAAO,EAAC,GAAGF,QAAJ;AAAaI,IAAAA,KAAK,EAACA;AAAnB,GAAP;AACF,CAjBD;;AAmBC,MAAMK,WAAW,GAAG,CAACC,KAAK,GAAGpB,WAAT,EAAuBS,MAAvB,KAAkC;AACnD,UAAQA,MAAM,CAACY,IAAf;AACI,SAAKvB,cAAc,CAACwB,cAApB;AACI,aAAOF,KAAP;;AACJ,SAAKtB,cAAc,CAACyB,cAApB;AACI,aAAO,EAAC,GAAGH,KAAJ;AACHjB,QAAAA,SAAS,EAAC;AADP,OAAP;;AAIJ,SAAKL,cAAc,CAAC0B,gBAApB;AACA,aAAO,EACH,GAAGJ,KADA;AAEHnB,QAAAA,SAAS,EAAEmB,KAAK,CAACnB,SAAN,CAAgBc,GAAhB,CAAoBL,QAAQ,IAAG;AACtC,cAAGA,QAAQ,CAACR,SAAT,KAAuBO,MAAM,CAACI,OAAP,CAAeX,SAAzC,EAAmD;AAC/C,mBAAOM,gBAAgB,CAACY,KAAK,CAACnB,SAAP,EAAiBQ,MAAjB,CAAvB;AACH,WAFD,MAEM,OAAOC,QAAP;AAET,SALU,CAFR;AAQHN,QAAAA,SAAS,EAAC,CAAC,GAAGgB,KAAK,CAAChB,SAAV,EAAoB,EAAC,GAAGK,MAAM,CAACI,OAAX;AAAmBI,UAAAA,KAAK,EAAC,CAAzB;AAA2BC,UAAAA,MAAM,EAAC;AAAlC,SAApB,CARP;AASHZ,QAAAA,WAAW,EAACc,KAAK,CAACd,WAAN,GAAmB,CAT5B;AAUHC,QAAAA,WAAW,EAAEa,KAAK,CAACb,WAAN,GAAoBE,MAAM,CAACI,OAAP,CAAeY;AAV7C,OAAP;;AAYA,SAAK3B,cAAc,CAAC4B,aAApB;AACI,aAAON,KAAP;;AAEJ;AACI,aAAOA,KAAP;AAzBR;AA2BH,CA5BA;;AA8BD,eAAeD,WAAf","sourcesContent":["import { ShopActionsDIC } from './shop.types';\nimport SHOP_DATA  from '../../data/shop.data';\n\nconst initialShop ={\n    shopItems:SHOP_DATA,\n    routeName:'',\n    quickView:false,\n    cartItems:[],\n    cCurrentItem:null,\n    cItemsCount:0,\n    cTotalPrice:0\n}\nconst _updateShopItems = (shopItems,action)=>{\n\n   const categroy = shopItems.find(item => item.routeName === action.payload.routeName);\n   const items = categroy.items.map(item=> {\n        if(item.id === action.payload.id){\n            return {\n                ...item,\n                count:1,\n                inCart:true\n            }\n        }else {\n            return {\n                ...item\n            }\n        }\n    });\n   return {...categroy,items:items};\n}\n\n const shopReducer = (state = initialShop , action) => {\n    switch (action.type) {\n        case ShopActionsDIC.INT_SHOP_ITEMS:\n            return state;\n        case ShopActionsDIC.GET_QUICK_VIEW:\n            return {...state,\n                quickView:true\n            }    \n\n        case ShopActionsDIC.ADD_ITEM_TO_CART: \n        return {\n            ...state,\n            shopItems: state.shopItems.map(categroy=> {\n                if(categroy.routeName === action.payload.routeName){\n                    return _updateShopItems(state.shopItems,action);\n                }else return categroy\n\n            }),\n            cartItems:[...state.cartItems,{...action.payload,count:1,inCart:true}],\n            cItemsCount:state.cItemsCount +1,\n            cTotalPrice: state.cTotalPrice + action.payload.price\n        }\n        case ShopActionsDIC.GET_ALL_ITEMS:\n            return state;\n    \n        default:\n            return state;\n    }\n}\n\nexport default shopReducer;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { ShopActionsDIC } from './shop.types';\nimport SHOP_DATA from '../../data/shop.data';\nconst initialShop = {\n  shopItems: SHOP_DATA,\n  cartItems: [],\n  cCurrentItem: null,\n  cItemsCount: 0,\n  cTotalPrice: 0\n};\n\nconst shopReducer = (state = initialShop, action) => {\n  switch (action.type) {\n    case ShopActionsDIC.ADD_ITEM_TO_CART:\n      return { ...state,\n        shopItems: state.shopItems.map(item => {\n          if (item.id === action.payload.id) {\n            return { ...item,\n              count: 1,\n              inCart: true\n            };\n          } else {\n            return { ...item,\n              count: 0,\n              inCart: false\n            };\n          }\n        }),\n        cartItems: [...state.cartItems, action.payload],\n        cItemsCount: state.cCurrentItem + 1,\n        cTotalPrice: state.cTotalPrice + action.payload.price\n      };\n\n    case ShopActionsDIC.GET_ALL_ITEMS:\n      return state;\n\n    default:\n      return state;\n  }\n};\n\nexport default shopReducer;","map":{"version":3,"sources":["/Users/dzgygmdhx/work/react-course/ecloth/src/redux/shop/shop.reducer.js"],"names":["ShopActionsDIC","SHOP_DATA","initialShop","shopItems","cartItems","cCurrentItem","cItemsCount","cTotalPrice","shopReducer","state","action","type","ADD_ITEM_TO_CART","map","item","id","payload","count","inCart","price","GET_ALL_ITEMS"],"mappings":"AAAA,SAASA,cAAT,QAA+B,cAA/B;AACA,OAAOC,SAAP,MAAuB,sBAAvB;AAEA,MAAMC,WAAW,GAAE;AACfC,EAAAA,SAAS,EAACF,SADK;AAEfG,EAAAA,SAAS,EAAC,EAFK;AAGfC,EAAAA,YAAY,EAAC,IAHE;AAIfC,EAAAA,WAAW,EAAC,CAJG;AAKfC,EAAAA,WAAW,EAAC;AALG,CAAnB;;AAQC,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGP,WAAT,EAAuBQ,MAAvB,KAAkC;AACnD,UAAQA,MAAM,CAACC,IAAf;AAEI,SAAKX,cAAc,CAACY,gBAApB;AACA,aAAO,EACH,GAAGH,KADA;AAEHN,QAAAA,SAAS,EAACM,KAAK,CAACN,SAAN,CAAgBU,GAAhB,CAAoBC,IAAI,IAAE;AAChC,cAAGA,IAAI,CAACC,EAAL,KAAYL,MAAM,CAACM,OAAP,CAAeD,EAA9B,EAAiC;AAC7B,mBAAO,EACH,GAAGD,IADA;AAEHG,cAAAA,KAAK,EAAC,CAFH;AAGHC,cAAAA,MAAM,EAAC;AAHJ,aAAP;AAKH,WAND,MAMM;AACF,mBAAO,EACH,GAAGJ,IADA;AAEHG,cAAAA,KAAK,EAAC,CAFH;AAGHC,cAAAA,MAAM,EAAC;AAHJ,aAAP;AAKH;AACJ,SAdS,CAFP;AAiBHd,QAAAA,SAAS,EAAC,CAAC,GAAGK,KAAK,CAACL,SAAV,EAAoBM,MAAM,CAACM,OAA3B,CAjBP;AAkBHV,QAAAA,WAAW,EAACG,KAAK,CAACJ,YAAN,GAAoB,CAlB7B;AAmBHE,QAAAA,WAAW,EAAEE,KAAK,CAACF,WAAN,GAAoBG,MAAM,CAACM,OAAP,CAAeG;AAnB7C,OAAP;;AAqBA,SAAKnB,cAAc,CAACoB,aAApB;AACI,aAAOX,KAAP;;AAEJ;AACI,aAAOA,KAAP;AA5BR;AA8BH,CA/BA;;AAiCD,eAAeD,WAAf","sourcesContent":["import { ShopActionsDIC } from './shop.types';\nimport SHOP_DATA  from '../../data/shop.data';\n\nconst initialShop ={\n    shopItems:SHOP_DATA,\n    cartItems:[],\n    cCurrentItem:null,\n    cItemsCount:0,\n    cTotalPrice:0\n}\n\n const shopReducer = (state = initialShop , action) => {\n    switch (action.type) {\n\n        case ShopActionsDIC.ADD_ITEM_TO_CART: \n        return {\n            ...state,\n            shopItems:state.shopItems.map(item=>{\n                if(item.id === action.payload.id){\n                    return {\n                        ...item,\n                        count:1,\n                        inCart:true\n                    }\n                }else {\n                    return {\n                        ...item,\n                        count:0,\n                        inCart:false\n                    }\n                }\n            }),\n            cartItems:[...state.cartItems,action.payload],\n            cItemsCount:state.cCurrentItem +1,\n            cTotalPrice: state.cTotalPrice + action.payload.price\n        }\n        case ShopActionsDIC.GET_ALL_ITEMS:\n            return state;\n    \n        default:\n            return state;\n    }\n}\n\nexport default shopReducer;"]},"metadata":{},"sourceType":"module"}